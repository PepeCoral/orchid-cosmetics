{% extends 'admin/base_admin.html' %}

{% block title %}Lista de Servicios - Orchid Cosmetics{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Lista de Servicios</h2>

  <div class="mb-3">
    <a href="/admin/cosmeticservices/create" class="btn text-white" style="background-color: #a97acf;">
      + Crear Servicio
    </a>
  </div>

  {% if servicios %}
  <ul class="list-group">

    {% for servicio in servicios %}
    <li class="list-group-item d-flex align-items-center p-2 mb-2" style="border-radius: 8px;">

      <!-- Image -->
      <div style="width:80px; height:80px; flex-shrink:0;">
        {% if servicio.image_url %}
        <img src="{{ servicio.image_url.url }}" alt="{{ servicio.name }}" class="img-fluid rounded"
          style="height:80px; width:80px; object-fit:cover;">
        {% else %}
        <div style="height:80px; width:80px; background:#eee;"
          class="d-flex align-items-center justify-content-center rounded">
          <span class="text-muted" style="font-size:0.75rem;">Sin imagen</span>
        </div>
        {% endif %}
      </div>

      <!-- Details -->
      <div class="ml-3 flex-grow-1" style="line-height:1.2;">
        <strong style="font-size:1rem;">{{ servicio.name }}</strong><br>
        <small class="text-muted">{{ servicio.description|truncatewords:10 }}</small><br>

        <strong class="text-primary" style="font-size:0.9rem;">{{ servicio.price }}â‚¬</strong><br>
        <span class="badge bg-secondary mt-1" style="font-size:0.7rem;">
          {{ servicio.duration_minutes }} min
        </span><br>

        <small class="text-muted" style="font-size:0.75rem;">
          Departamento: {{ servicio.department }}
        </small>
      </div>

      <!-- Action Buttons (horizontal with gap) -->
      <div class="d-flex align-items-center">
        <div class="button-row">
          <a href="{% url 'admin/cosmeticservices/show' servicio.id %}" class="btn btn-sm action-btn">
            Ver
          </a>
          <a href="{% url 'admin/cosmeticservices/update' servicio.id %}" class="btn btn-sm action-btn">
            Editar
          </a>
          <a href="{% url 'admin/cosmeticservices/delete' servicio.id %}" class="btn btn-sm action-btn-danger">
            Eliminar
          </a>
        </div>
      </div>

    </li>
    {% endfor %}

  </ul>

  {% else %}
  <div class="alert alert-info text-center">
    No hay servicios creados.
    <a href="/admin/cosmeticservices/create" class="alert-link">Crear el primer servicio</a>.
  </div>
  {% endif %}
</div>

<style>
  .list-group-item img {
    border-radius: 6px;
  }

  /* Button row spacing */
  .button-row {
    display: flex;
    gap: 6px;
    /* small gap between buttons */
  }

  .button-row .btn {
    min-width: 65px;
    padding: 0.25rem 0.55rem;
    font-size: 0.8rem;
    border-radius: 6px !important;
  }

  /* Soft branded purple buttons */
  .action-btn {
    background-color: #e8e0f6;
    border: 1px solid #d4c5ee;
    color: #44365d;
  }

  .action-btn:hover {
    background-color: #dcd0f2;
    border-color: #c9b8e8;
    color: #2a2140;
  }

  /* Soft red delete button */
  .action-btn-danger {
    background-color: #f4d8d8;
    border: 1px solid #e8bcbc;
    color: #6b2828;
  }

  .action-btn-danger:hover {
    background-color: #ecc2c2;
    border-color: #d9a5a5;
    color: #4a1b1b;
  }

  /* Purple brand badge */
  .badge.bg-secondary {
    background-color: #a97acf !important;
  }
</style>
{% endblock %}
