{% extends 'base.html' %}

{% block content %}

<h2 class="mb-4">Lista de Pedidos</h2>

<div class="container-fluid">

    <div class="row">
        <div class="col-12 col-lg-10 mx-auto">

            {% for order in ordenes %}
            
            <div class="card mb-4 p-4 shadow-sm order-card">
                
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h5 class="mb-2 font-weight-bold">Pedido {{ order.identifier }}</h5>

                        <!-- Usuario -->
                        <p class="mb-1">
                            <strong>Usuario:</strong>
                            {% if order.user %}
                                <span>{{ order.user }}</span>
                            {% else %}
                                <span class="text-muted">Anónimo</span>
                            {% endif %}
                        </p>

                        <!-- Método de pago -->
                        <p class="mb-1">
                            <strong>Método de pago:</strong>
                            <span class="badge" style="background-color: #e2e2e2; color: #333;">
                                {{ order.pay_method }}
                            </span>
                        </p>

                        <!-- Dirección -->
                        <p class="mb-1">
                            <strong>Dirección:</strong>
                            <span>{{ order.address }}</span>
                        </p>

                        <!-- Estado -->
                        <p class="mb-1">
                            <strong>Estado:</strong>
                            {% if order.status == "pending" %}
                                <span class="badge badge-warning text-dark">Pendiente</span>
                            {% elif order.status == "shipped" %}
                                <span class="badge badge-primary">Enviado</span>
                            {% else %}
                                <span class="badge badge-success">Entregado</span>
                            {% endif %}
                        </p>
                    </div>

                    <!-- Botón ver -->
                    <div>
                        <a href="{% url 'orders/items' order.id %}" 
                           class="btn btn-info btn-sm" 
                           style="border-radius: 6px;">
                           Ver
                        </a>
                    </div>
                </div>

            </div>

            {% endfor %}

        </div>
    </div>

</div>

<style>
    .order-card {
        border-radius: 14px;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .order-card:hover {
        transform: translateY(-2px);
        box-shadow: 0px 6px 15px rgba(0,0,0,0.12);
    }
</style>

{% endblock %}
